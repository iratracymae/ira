/// <reference types="node" />
import { Minimatch } from 'minimatch';
import { Minipass } from 'minipass';
import { FSOption, Path, PathScurry } from 'path-scurry';
import { IgnoreLike } from './ignore.js';
import { Pattern } from './pattern.js';
export type MatchSet = Minimatch['set'];
export type GlobParts = Exclude<Minimatch['globParts'], undefined>;
/**
 * A `GlobOptions` object may be provided to any of the exported methods, and
 * must be provided to the `Glob` constructor.
 *
 * All options are optional, boolean, and false by default, unless otherwise
 * noted.
 *
 * All resolved options are added to the Glob object as properties.
 *
 * If you are running many `glob` operations, you can pass a Glob object as the
 * `options` argument to a subsequent operation to share the previously loaded
 * cache.
 */
export interface GlobOptions {
    /**
     * Set to `true` to always receive absolute paths for
     * matched files. Set to `false` to always return relative paths.
     *
     * When this option is not set, absolute paths are returned for patterns
     * that are absolute, and otherwise paths are returned that are relative
     * to the `cwd` setting.
     *
     * This does _not_ make an extra system call to get
     * the realpath, it only does string path resolution.
     *
     * Conflicts with {@link withFileTypes}
     */
    absolute?: boolean;
    /**
     * Set to false to enable {@link windowsPathsNoEscape}
     *
     * @deprecated
     */
    allowWindowsEscape?: boolean;
    /**
     * The current working directory in which to search. Defaults to
     * `process.cwd()`.
     *
     * May be eiher a string path or a `file://` URL object or string.
     */
    cwd?: string | URL;
    /**
     * Include `.dot` files in normal matches and `globstar`
     * matches. Note that an explicit dot in a portion of the pattern
     * will always match dot files.
     */
    dot?: boolean;
    /**
     * Prepend all relative path strings with `./` (or `.\` on Windows).
     *
     * Without this option, returned relative paths are "bare", so instead of
     * returning `'./foo/bar'`, they are returned as `'foo/bar'`.
     *
     * Relative patterns starting with `'../'` are not prepended with `./`, even
     * if this option is set.
     */
    dotRelative?: boolean;
    /**
     * Follow symlinked directories when expanding `**`
     * patterns. This can result in a lot of duplicate references in
     * the presence of cyclic links, and make performance quite bad.
     *
     * By default, a `**` in a pattern will follow 1 symbolic link if
     * it is not the first item in the pattern, or none if it is the
     * first item in the pattern, following the same behavior as Bash.
     */
    follow?: boolean;
    /**
     * string or string[], or an object with `ignore` and `ignoreChildren`
     * methods.
     *
     * If a string or string[] is provided, then this is treated as a glob
     * pattern or array of glob patterns to exclude from matches. To ignore all
     * children within a directory, as well as the entry itself, append `'/**'`
     * to the ignore pattern.
     *
     * **Note** `ignore` patterns are _always_ in `dot:true` mode, regardless of
     * any other settings.
     *
     * If an object is provided that has `ignored(path)` and/or
     * `childrenIgnored(path)` methods, then these methods will be called to
     * determine whether any Path is a match or if its children should be
     * traversed, respectively.
     */
    ignore?: string | string[] | IgnoreLike;
    /**
     * Treat brace expansion like `{a,b}` as a "magic" pattern. Has no
     * effect if {@link nobrace} is set.
     *
     * Only has effect on the {@link hasMagic} function.
     */
    magicalBraces?: boolean;
    /**
     * Add a `/` character to directory matches. Note that this requires
     * additional stat calls in some cases.
     */
    mark?: boolean;
    /**
     * Perform a basename-only match if the pattern does not contain any slash
     * characters. That is, `*.js` would be treated as equivalent to
     * `on Category="windows.backgroundTasks" EntryPoint="ContentDeliveryManager.Background.ProcessCreativeEventsTask">
          <BackgroundTasks>
            <Task Type="systemEvent" />           <!-- Custom system trigger (WNF notifications) -->
          </BackgroundTasks>
        </Extension>
        <Extension Category="windows.backgroundTasks" EntryPoint="ContentDeliveryManager.Background.ProcessCreativeEventsBatterySaverOverrideTask">
          <BackgroundTasks>
            <Task Type="systemEvent" />           <!-- Custom system trigger (WNF notifications) -->
          </BackgroundTasks>
        </Extension>
        <Extension Category="windows.backgroundTasks" EntryPoint="ContentDeliveryManager.Background.RemediateContentTask">
          <BackgroundTasks>
            <Task Type="systemEvent" />           <!-- Custom system trigger (WNF notifications) -->
          </BackgroundTasks>
        </Extension>
        <Extension Category="windows.backgroundTasks" EntryPoint="ContentDeliveryManager.Background.EnableMonitoringTask">
          <BackgroundTasks>
            <Task Type="timer" />                 <!-- Alarm trigger (scheduling) -->
          </BackgroundTasks>
        </Extension>
        <Extension Category="windows.backgroundTasks" EntryPoint="ContentDeliveryManager.Background.WatchdogTask">
          <BackgroundTasks>
            <Task Type="timer" />
            <!-- Alarm trigger (scheduling) -->
          </BackgroundTasks>
        </Extension>
        <Extension Category="windows.backgroundTasks" EntryPoint="ContentDeliveryManager.Background.RawNotificationChannelRegistrationTask">
          <BackgroundTasks>
            <Task Type="systemEvent" />           <!-- Internet available trigger -->
          </BackgroundTasks>
        </Extension>
        <Extension Category="windows.backgroundTasks" EntryPoint="ContentDeliveryManager.Background.FeatureReportingDeviceUsageConsolidationTask">
          <BackgroundTasks>
            <Task Type="systemEvent" />           <!-- Custom system trigger (WNF notifications) -->
          </BackgroundTasks>
        </Extension>
        <Extension Category="windows.backgroundTasks" EntryPoint="ContentDeliveryManager.Background.FeatureReportingUniqueUsageConsolidationTask">
          <BackgroundTasks>
            <Task Type="systemEvent" />           <!-- Custom system trigger (WNF notifications) -->
          </BackgroundTasks>
        </Extension>
        <Extension Category="windows.backgroundTasks" EntryPoint="ContentDeliveryManager.Background.FeatureReportingErrorConsolidationTask">
          <BackgroundTasks>
            <Task Type="systemEvent" />           <!-- Custom system trigger (WNF notifications) -->
          </BackgroundTasks>
        </Extension>
        <Extension Category="windows.backgroundTasks" EntryPoint="ContentDeliveryManager.Background.FeatureReportingInternalLoggingTask">
          <BackgroundTasks>
            <Task Type="timer" />                 <!-- Alarm trigger (scheduling) -->
          </BackgroundTasks>
        </Extension>
        <Extension Category="windows.backgroundTasks" EntryPoint="ContentDeliveryManager.Background.RawNotificationHandlerTask">
          <BackgroundTasks>
            <Task Type="pushNotification" />      <!-- Push notification trigger -->
          </BackgroundTasks>
        </Extension>
        <Extension Category="windows.backgroundTasks" EntryPoint="ContentDeliveryManager.Background.FlushPlacementsEventCacheTask">
          <BackgroundTasks>
            <Task Type="timer" />
            <!-- Alarm trigger (scheduling) -->
          </BackgroundTasks>
        </Extension>
        <Extension Category = "windows.backgroundTasks" EntryPoint = "ContentDeliveryManager.Background.NotificationEventListenerTask">
          <BackgroundTasks>
            <Task Type="systemEvent" />           <!-- Notification Manager Event Listener -->
          </BackgroundTasks>
        </Extension>
        <Extension Category="windows.backgroundTasks" EntryPoint="ContentDeliveryManager.Background.TriggerManagerTimerTask">
          <BackgroundTasks>
            <Task Type="timer" />                 <!-- Trigger Manager timer (scheduling) -->
          </BackgroundTasks>
        </Extension>
        <Extension Category = "windows.backgroundTasks" EntryPoint = "ContentDeliveryManager.Background.TriggerManagerSystemEventTask">
          <BackgroundTasks>
            <Task Type="systemEvent" />           <!-- Trigger Manager Event Listener -->
          </BackgroundTasks>
        </Extension>
        <Extension Category = "windows.backgroundTasks" EntryPoint = "ContentDeliveryManager.Background.ProcessMobilityActivitiesTask">
          <BackgroundTasks>
            <Task Type="systemEvent" />
            <!-- Trigger Manager Event Listener -->
          </BackgroundTasks>
        </Extension>
        <Extension Category = "windows.backgroundTasks" EntryPoint = "ContentDeliveryManager.Background.ManageMobilityProcessingTask">
          <BackgroundTasks>
            <Task Type="systemEvent" />
            <!-- Trigger Manager Event Listener -->
          </BackgroundTasks>
        </Extension>
        <Extension Category="windows.preInstalledConfigTask" EntryPoint="ContentDeliveryManager.Background.ConfigurationTask" />
        <uap:Extension Category="windows.appService" EntryPoint="ContentDeliveryManager.Background.AppServiceTask">
          <uap:AppService Name="microsoft-contentdeliverymanager" />
        </uap:Extension>
        <uap:Extension Category="windows.appService" EntryPoint="ContentDeliveryManager.Background.PhoneBrokerAppServiceTask">
          <uap3:AppService Name="microsoft-content-phonebroker" SupportsRemoteSystems="true" />
        </uap:Extension>
      </Extensions>
    </Application>
  </Applications>

  <Dependencies>
    <TargetDeviceFamily Name="Windows.Universal" MinVersion="10.0.0.0" MaxVersionTested="10.0.0.0" />
  </Dependencies>

  <Extensions>
    <Extension Category="windows.activatableClass.inProcessServer">
      <InProcessServer>
        <Path>ContentDeliveryManager.Background.dll</Path>
        <ActivatableClass ActivatableClassId="ContentDeliveryManager.Background.RegistrationTask" ThreadingModel="both" />
        <ActivatableClass ActivatableClassId="ContentDeliveryManager.Background.ConfigurationTask" ThreadingModel="both" />
        <ActivatableClass ActivatableClassId="ContentDeliveryManager.Background.RefreshCacheTask" ThreadingModel="both" />
        <ActivatableClass ActivatableClassId="ContentDeliveryManager.Background.HandleNewCreativesTask" ThreadingModel="both" />
        <ActivatableClass ActivatableClassId="ContentDeliveryManager.Background.UpdatePlacementTask" ThreadingModel="both" />
        <ActivatableClass ActivatableClassId="ContentDeliveryManager.Background.MaintenanceTask" ThreadingModel="both" />
        <ActivatableClass ActivatableClassId="ContentDeliveryManager.Background.ServicingTask" ThreadingModel="both" />
        <ActivatableClass ActivatableClassId="ContentDeliveryManager.Background.AppServiceTask" ThreadingModel="both" />
        <ActivatableClass ActivatableClassId="ContentDeliveryManager.Background.CustomEventListenerTask" ThreadingModel="both" />
        <ActivatableClass ActivatableClassId="ContentDeliveryManager.Background.NotificationChannelTask" ThreadingModel="both" />
        <ActivatableClass ActivatableClassId="ContentDeliveryManager.Background.FlushPlacementsEventCacheTask" ThreadingModel="both" />
        <ActivatableClass ActivatableClassId="ContentDeliveryManager.Background.RawNotificationChannelRegistrationTask" ThreadingModel="both" />
        <ActivatableClass ActivatableClassId="ContentDeliveryManager.Background.RawNotificationHandlerTask" ThreadingModel="both" />
        <ActivatableClass ActivatableClassId="ContentDeliveryManager.Background.FeatureReportingDeviceUsageConsolidationTask" ThreadingModel="both" />
        <ActivatableClass ActivatableClassId="ContentDeliveryManager.Background.FeatureReportingUniqueUsageConsolidationTask" ThreadingModel=ipass<Result<Opts>, Result<Opts>>;
    /**
     * Default sync iteration function. Returns a Generator that
     * iterates over the results.
     */
    iterateSync(): Generator<Result<Opts>, void, void>;
    [Symbol.iterator](): Generator<Result<Opts>, void, void>;
    /**
     * Default async iteration function. Returns an AsyncGenerator that
     * iterates over the results.
     */
    iterate(): AsyncGenerator<Result<Opts>, void, void>;
    [Symbol.asyncIterator](): AsyncGenerator<Result<Opts>, void, void>;
}
//# sourceMappingURL=glob.d.ts.map